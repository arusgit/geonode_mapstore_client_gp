(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[24276],{801550:(t,e,n)=>{"use strict";n.d(e,{pP:()=>r,TR:()=>o,N7:()=>i,mq:()=>a,uv:()=>u,Qy:()=>c,IL:()=>l,Li:()=>s,OW:()=>f,ZO:()=>p,Um:()=>d,TF:()=>m,Ls:()=>y,Ec:()=>v,Eu:()=>b,JJ:()=>g,nZ:()=>h,YD:()=>O,GI:()=>S,Jb:()=>w,Uh:()=>P,e$:()=>j,eh:()=>T,$j:()=>E,bJ:()=>k,Mk:()=>I,xy:()=>R,o6:()=>D,NH:()=>A,FP:()=>L,Mo:()=>N,sO:()=>M,Px:()=>_,hd:()=>C,y9:()=>x,Ju:()=>Z,BV:()=>H,SO:()=>V,H0:()=>z,$X:()=>U,ou:()=>W,NE:()=>B,Lq:()=>F,aN:()=>G});var r="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",a="CHANGE_ZOOM_LVL",u="PAN_TO",c="ZOOM_TO_EXTENT",l="ZOOM_TO_POINT",s="CHANGE_MAP_CRS",f="CHANGE_MAP_SCALES",p="CHANGE_MAP_STYLE",d="CHANGE_ROTATION",m="CREATION_ERROR_LAYER",y="UPDATE_VERSION",v="INIT_MAP",b="RESIZE_MAP",g="CHANGE_MAP_LIMITS",h="SET_MAP_RESOLUTIONS",O="REGISTER_EVENT_LISTENER",S="UNREGISTER_EVENT_LISTENER",w="MOUSE_MOVE",P="MOUSE_OUT",j="MAP:MAP_PLUGIN_LOAD",T="MAP:ORIENTATION",E="MAP:UPDATE_MAP_VIEW",k="MAP:UPDATE_MAP_OPTIONS";function I(t,e,n,r){return{type:j,mapType:e,loading:t,loaded:n,error:r}}function R(t,e,n){return{type:l,pos:t,zoom:e,crs:n}}function D(t,e,n,o,i,a,u,c){return{type:r,center:t,zoom:e,bbox:n,size:o,mapStateSource:i,projection:a,viewerOptions:u,resolution:c}}function A(t){return{type:s,crs:t}}function L(t,e){return{type:o,point:t,layer:e}}function N(t){return{type:i,pointer:t}}function M(t,e){return{type:a,zoom:t,mapStateSource:e}}function _(t,e,n,r){return{type:c,extent:t,crs:e,maxZoom:n,options:r}}function C(t,e){return{type:p,style:t,mapStateSource:e}}function x(t){return{type:v,disableFeedbackMask:t}}function Z(){return{type:b}}function H(t){var e=t.restrictedExtent,n=t.crs,r=t.minZoom;return{type:g,restrictedExtent:e,crs:n,minZoom:r}}function V(t){return{type:h,resolutions:t}}var z=function(t,e){return{type:O,eventName:t,toolName:e}},U=function(t,e){return{type:S,eventName:t,toolName:e}},W=function(t){return{type:w,position:t}},B=function(){return{type:P}},F=function(t){return{type:T,orientation:t}},G=function(t){return{type:k,configUpdate:t}}},159979:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(621413),o=n.n(r),i=n(352595),a=n(724469),u=n(957557),c=n.n(u),l=n(180307),s=n.n(l);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}var p=["popoverOptions","keyProp"];function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(null,arguments)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t){if("object"!=f(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}const h=function(t){return function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e,n){return e=b(e),function(t,e){if(e&&("object"==f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,n||[],b(t).constructor):e.apply(t,n))}(this,n,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(n,e),r=n,u=[{key:"render",value:function(){var e=null,n=this.props,r=n.popoverOptions,u=n.keyProp,l=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(n,p);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(t,d({},c()(l,["renderPopover","tooltipId"]),{key:u,ref:function(t){e=t}})),o().createElement(i.Z,{placement:r.placement,shouldUpdatePosition:!0,show:!0,target:function(){return s().findDOMNode(e)}},o().createElement(a.J2,r.props,r.content)))}}],u&&m(r.prototype,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,u}(o().Component)}},975480:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(621413),o=n.n(r);const i=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).style,e=void 0===t?{display:"inline-block"}:t;return o().createElement("div",{style:e,className:"mapstore-inline-loader"})}},906724:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(621413),o=n.n(r),i=n(867076),a=function(t,e,n){var r=n.maskContainerStyle,a=n.maskStyle,u=n.className,c=n.white;return function(n){return(0,i.nest)((function(n){return o().createElement("div",{className:"ms2-mask-container ".concat(u||""," ").concat(t(n)?"":"ms2-mask-empty"),style:r},n.children,t(n)?o().createElement("div",{className:"ms2-mask"+(c?" white-mask":""),style:a},e(n)):null)}),n)}};const u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.alwaysWrap,o=void 0===r||r,u=n.white,c=void 0!==u&&u,l=n.maskContainerStyle,s=void 0===l?{}:l,f=n.maskStyle,p=void 0===f?{}:f,d=n.className;return o?a(t,e,{maskContainerStyle:s,maskStyle:p,className:d,white:c}):(0,i.branch)(t,a((function(){return!0}),e,{maskContainerStyle:s,maskStyle:p,white:c}))}},438482:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(621413),o=n.n(r),i=n(23279),a=n.n(i),u=n(45697),c=n.n(u),l=n(180307),s=n.n(l),f=n(961845);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(m=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function b(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t){var e=function(t){if("object"!=p(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}const h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.debounceTime,n=t.querySelector,r=t.closest,i=void 0!==r&&r;return function(t){var r;return r=function(r){function u(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),b(r=function(t,e,n){return e=y(e),function(t,e){if(e&&("object"==p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,m()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}(this,u,[t]),"findDomNode",(function(){if(!r.isMounded)return null;var t=s().findDOMNode(r);return t&&i&&n?t.closest(n||"*"):t&&(n?t.querySelector(n):t)})),r.width=void 0,r.height=void 0,r.skipOnMount=t.skipOnMount,r.div=null,r.onResize=a()((function(){var t;return(t=r.props).onResize.apply(t,arguments)}),void 0!==e?e:t.debounceTime||1e3),r.ro=new f.Z((function(t){t.forEach((function(t){var e=t.contentRect,n=e.width,o=e.height,i=r.props.handleWidth&&r.width!==n,a=r.props.handleHeight&&r.height!==o;r.skipOnMount||!i&&!a||r.onResize({width:n,height:o}),r.width=n,r.height=o,r.skipOnMount=!1}))})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(u,r),c=u,(l=[{key:"componentDidMount",value:function(){this.isMounded=!0,this.div=this.findDomNode(),this.div&&this.ro.observe(this.div)}},{key:"componentDidUpdate",value:function(){this.div=this.findDomNode(),this.div&&this.ro.observe(this.div)}},{key:"componentWillUnmount",value:function(){var t=this.findDomNode();t&&this.ro&&this.ro.unobserve&&this.ro.unobserve(t)}},{key:"render",value:function(){return o().createElement(t,this.props)}}])&&d(c.prototype,l),Object.defineProperty(c,"prototype",{writable:!1}),c;var c,l}(o().Component),b(r,"propTypes",{handleWidth:c().bool,handleHeight:c().bool,onResize:c().func}),b(r,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),r}}},218291:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(621413),o=n.n(r);function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(null,arguments)}const a=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fallback,n=void 0===e?null:e;return function(e){return(0,r.forwardRef)((function(a,u){return void 0===t||t(a)?o().createElement(r.Suspense,{fallback:n},o().createElement(e,i({ref:u},a))):null}))}}},626325:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>F});var r=n(502822),o=n.n(r),i=n(747037),a=n.n(i),u=n(227361),c=n.n(u),l=n(91175),s=n.n(l),f=n(984596),p=n.n(f),d=n(441609),m=n.n(d),y=n(414293),v=n.n(y),b=n(730381),g=n.n(b),h=n(589919),O=n(801550),S=n(757676),w=n(57604),P=n(580416),j=n(197395),T=n(675110),E=n(997291),k=n(285148),I=n(55237),R=n(496361),D=n(50886),A=n(881808);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function N(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||M(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){if(t){if("string"==typeof t)return _(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z(t,e,n){return(e=function(t){var e=function(t){if("object"!=L(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==L(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H="time",V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,E.Li)(t()),r=(0,E.uy)(t()),o=(0,E.Ry)(t()),i=(0,E.F3)(n)(t()),a="end"===(0,E.pW)(t());return[o,r,"time",x(x({limit:1},e),{},{fromEnd:a}),i]},z=function(t,e,n){var r=t();if((0,E.uy)(r)){var i=(0,E.pW)(r);return(0,D.A)(V,!0,t,i,n).map((function(t){return(0,I.Qn)(t.filter((function(t){return!!t})),n,i)||n}))}var a=(0,k.aK)((0,T.CA)(r,e))(r);return o().Observable.of((0,I.Qn)(a,n)||n)},U=function(t){return a()(t)?t:t.toISOString()},W=function(t,e,n){var r,i,u=t.isFullRange,c=t.offsetTime;(i=(i=a()(e)?e.indexOf("--")>0?e.split("--"):e.indexOf(",")>0?e.split(","):[e]:e).reduce((function(t,e){return t.concat(e.split("/"))}),[])).length>2&&(i=[i[0],i[i.length-1]]);var l,s,f=(l=(null===(r=i)||void 0===r?void 0:r.filter((function(t){return!!t})))||[],s=2,function(t){if(Array.isArray(t))return t}(l)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(l,s)||M(l,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],d=f[1],m=u&&null!=p?p:n,y=g()(432e6).diff(0),v=g()(new Date).add(y/5).toISOString(),b=u?null!=d?d:v:null!=c?c:v,h=g()(b).diff(g()(m)),O=g()(m).add(h).toISOString();return o().Observable.of((0,w.yR)(m)).concat(o().Observable.of((0,w.pF)(b))).concat(o().Observable.of((0,S.y3)({start:p,end:O})))},B=function(t,e){return(0,S.Nb)(c()((0,k.LS)(t),"[0].id"),e)};const F={updateTimelineDataOnMapLoad:function(t){return t.ofType(A.ok).filter((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config;return!m()(t)})).switchMap((function(){var t,e,n,r,i,a,u,c=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,l=null==c||null===(t=c.timelineData)||void 0===t?void 0:t.selectedLayer,s=null==c||null===(e=c.dimensionData)||void 0===e?void 0:e.currentTime,f=null==c||null===(n=c.timelineData)||void 0===n?void 0:n.endValuesSupport,p=null==c||null===(r=c.timelineData)||void 0===r?void 0:r.snapRadioButtonEnabled,d=null==c||null===(i=c.timelineData)||void 0===i?void 0:i.layers;return(a=o().Observable).of.apply(a,N(m()(l)?[]:[(0,S.Nb)(l)]).concat(N(v()(f)?[]:[(0,S.Hz)(f)]),N(v()(p)?[]:[(0,S.Qq)(p)]),N(m()(d)?[]:[(0,S.bz)(d)]))).concat((u=o().Observable).of.apply(u,N(m()(s)?[(0,S.KI)()]:[])))}))},setTimelineCurrentTime:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(S.qx).throttleTime(100).switchMap((function(t){var e=t.time,r=t.group,i=n();return r?z(n,r,e).switchMap((function(t){var e=(0,E.YK)(i)||{},n=e.start,r=e.end,a=[];if(n&&r&&(g()(t).isBefore(n)||g()(t).isAfter(r))){var u=g()(r).diff(n);a=[(0,S.y3)({start:g()(t).subtract(u/2),end:g()(t).add(u/2)})]}return o().Observable.from([].concat(N(a),[(0,w.yR)(t)]))})).let((0,h.hP)((0,S.aA)(!1,!0),(0,S.aA)(!1,!1))):o().Observable.of((0,w.yR)(e))}))},settingInitialOffsetValue:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(S.JU).switchMap((function(t){var e=n(),r=(0,k.WT)(e),i=(0,E.YK)(e);if(t.enabled){var a=i||{},u=a.start,c=void 0===u?0:u,l=a.end,s=void 0===l?432e6:l,f=(0,k.ns)(e),p=g()(s).diff(c),d=i?g()(c).add(p/2).toISOString():g()(new Date).toISOString(),m=g()(r||d).add(p/5),y=t.enabled&&!r?o().Observable.of((0,w.yR)(d)):o().Observable.empty(),v=t.enabled&&!f||t.enabled&&g()(f).diff(r)<0?o().Observable.of((0,w.pF)(m.toISOString())):o().Observable.empty(),b=i?o().Observable.empty():o().Observable.of((0,S.y3)({start:g()(d).add(-1*p/2),end:g()(d).add(p/2)}));return y.concat(v).concat(b)}return o().Observable.of((0,w.pF)())}))},updateRangeDataOnRangeChange:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(S.Lv).merge(t.ofType(O.pP).filter((function(){return(0,E.cX)(n())})),t.ofType(S.w)).debounceTime(400).merge(t.ofType(w.XV).debounceTime(50)).switchMap((function(t){var e,r=!1===t.mapSync,i=(0,k.m$)(n())||{},a=Object.keys(i).filter((function(t){return i[t]&&i[t].domain&&(0,I._q)(i[t].domain)||(0,E.cX)(n())||r}));return(e=o().Observable).merge.apply(e,N(a.map((function(t){return function(t,e,n){var r=(0,E.YK)(n());if(!r){var i=(0,I.Q7)(e.domain);r={start:new Date(i[0]),end:new Date(i[1]||i[0])}}var a=(0,I.un)(r,20),u=a.range,l=a.resolution,f=(0,T.CA)(n(),t).name,d=(0,E.oo)(n()),m=Z({},H,"".concat(U(u.start),"/").concat(U(u.end)));return(0,R.ot)(e.source.url,f,H,Z({},H,"".concat(U(u.start),"/").concat(U(u.end))),l,(0,E.F3)(t)(n())).merge((0,R.i8)(e.source.url,f,m,x(x({},(0,E.F3)(t)(n())),{},{expandLimit:d}))).scan((function(t,e){return x(x({},t),e)}),{}).switchMap((function(t){var e,n=t.Histogram,r=t.Domains,i=c()(s()(p()(c()(r,"DimensionDomain")||[]).filter((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).Identifier===H}))),"Domain");try{e=n&&n.Values&&n.Values.split(",").map((function(t){return parseInt(t,10)}))||[]}catch(t){e=[]}var a=i&&i.indexOf("--")<0&&i.split(",");return o().Observable.of({range:u,histogram:n&&n.Domain?{values:e,domain:n.Domain}:void 0,domain:i?{values:a}:void 0})}))}(t,i[t],n).map((function(e){var n=e.range,r=e.histogram,o=e.domain;return(0,S.cO)(t,n,r,o)})).startWith((0,S.aA)(t,!0)).catch((function(){return o().Observable.of((0,j.vU)({uid:"error_with_timeline_update",title:"timeline.errors.multidim_error_title",message:"timeline.errors.multidim_error_message"}))})).concat(o().Observable.of((0,S.aA)(t,!1)))}))))}))},syncTimelineGuideLayer:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(S.cb).merge(t.ofType(P.sb,P.yS).withLatestFrom(t.ofType(S._V),(function(t,e){var r=e.layerId;return r&&!(0,E.rV)(n()).some((function(t){return t.id===r}))})).filter((function(t){return!!t}))).switchMap((function(){var t=n(),e=c()((0,E.rV)(t),"[0].id");return(0,E.en)(t)&&e?o().Observable.of((0,S.kq)(e)):o().Observable.empty()}))},snapTimeGuideLayer:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(S._V,S.Xe).filter((function(t){return(null==t?void 0:t.layerId)&&(0,E.en)(n())&&(null==t?void 0:t.snap)})).switchMap((function(t){var e=t.layerId;return z(n,e,(0,k.WT)(n())||(new Date).toISOString()).filter((function(t){return t})).map((function(t){return(0,w.yR)(t)}))}))},onInitTimeLine:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(S.p).debounceTime(500).switchMap((function(){var t,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,r=n(),i=(0,E.uy)(r),a=e.initialMode,u=e.initialSnap;if("single"===a&&"now"===u)return(t=o().Observable).of.apply(t,N(m()(i)?[B(r)]:[]));if("range"===a&&!m()(u)){var c="fullRange"!==u;return o().Observable.of(m()(i)?B(r,c):(0,S.st)())}return o().Observable.empty()}))},setRangeOnInit:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(S.vf).switchMap((function(){var t,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value,r=n(),o=(0,E.pW)(r),i=(0,E.Li)(r),a={isFullRange:[e,null===(t=(0,E.TQ)(r))||void 0===t?void 0:t.initialSnap].includes("fullRange"),offsetTime:(0,k.ns)(r)},u=((0,k.Qw)(i,"time")(r)||{}).domain,c=(0,k.WT)(r),l=function(t){return(0,D.A)(V,!1,n,o,t)},s=function(t){return l().switchMap((function(e){return W(a,e,t)}))};if(!m()(u)&&!m()(c))return W(a,u,c);if(m()(u)&&!m()(c)||a.isFullRange)return s(c);var f=(new Date).toISOString();return l(f).switchMap((function(t){var e=(0,I.Qn)(t.filter((function(t){return!!t})),f,o)||f;return s(e)}))}))},rangeOnInitSelectLayer:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(S.Xe).filter((function(){var t;return(0,k.RP)(n())||"range"===(null===(t=(0,E.TQ)(n()))||void 0===t?void 0:t.initialMode)})).switchMap((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).snap;return o().Observable.of((0,S.st)(v()(t)||t?"now":"fullRange"))}))},onUpdateLayerDimensionData:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(w.XV).filter((function(t){var e=t.data;return"time"===(null==e?void 0:e.name)&&!(0,E.Li)(n())})).switchMap((function(){var t,e,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;return m()(r)?o().Observable.empty():(t=o().Observable).of.apply(t,[(0,S.KI)()].concat(N(void 0===(0,E.Hc)(n())?[(0,S.Hz)("1.2"===(null==r||null===(e=r.source)||void 0===e?void 0:e.version))]:[])))}))},resetTimeline:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(S.Ud).switchMap((function(){var t,e=n(),r=(0,k.RP)(e),i=(0,E.Li)(e);if(r)return o().Observable.of(m()(i)?B(e,!1):(0,S.st)("fullRange"));var a=(0,E.YK)(e)||{},u=new Date,c=g()(a.end)>g()(u);return(t=o().Observable.of((0,S.HM)(u.toISOString(),i))).concat.apply(t,N(c?[]:[o().Observable.of((0,S.y3)({start:a.start,end:g()(u).add(432e6)}))]))}))},setTimeLayersSetting:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===e?function(){}:e;return t.ofType(S.p,P.sb,P.yS,P.K$).switchMap((function(){var t,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,r=n(),i=o().Observable.empty(),a=(0,E.Kf)(r)||[];if(!m()(e)&&!m()(a))return i;var u=null===(t=(0,k.AF)(r))||void 0===t?void 0:t.filter((function(t){return t.visibility}));if(!m()(u)){var l=u.map((function(t){var e=t.id,n=a.find((function(t){return t[e]}));return Z({},e,{hideInTimeline:!m()(n)&&c()(n,"".concat(e,".hideInTimeline"))})}));1===l.length&&(l=l.map((function(t){return Z({},c()(Object.keys(t),"[0]"),{hideInTimeline:!1})}))),i=o().Observable.of((0,S.bz)(l))}return i}))}}},180440:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Zt});var r=n(91175),o=n.n(r),i=n(747037),a=n.n(i),u=n(730381),c=n.n(u),l=n(727418),s=n.n(l),f=n(621413),p=n.n(f),d=n(724469),m=n(171703),y=n(867076),v=n(22222),b=n(57604),g=n(162187),h=n(757676),O=n(805346),S=n(815135),w=n(438482),P=n(80717),j=n(365295),T=n(285148),E=n(55105),k=n(176843),I=n(997291),R=n(513218),D=n.n(R),A=n(170735),L=n.n(A),N=n(414293),M=n.n(N),_=n(359704),C=n.n(_),x=n(218291),Z=n(784715),H=n(906724),V=n(975480),z=n(92742),U=n.n(z),W=n(55237);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){Y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Y(t,e,n){return(e=function(t){var e=function(t){if("object"!=B(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var K=function(t,e){return c()(e).diff(t)>0};const J=(0,y.withHandlers)({clickHandler:function(t){var e=t.selectedLayer,n=t.offsetEnabled,r=t.status,o=t.setCurrentTime,i=void 0===o?function(){}:o,a=t.selectGroup,u=void 0===a?function(){}:a;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.time,a=t.group,c=t.what,l=t.event;if("PLAY"!==r)if("group-label"===c)a&&"PLAY"!==r&&u(a);else{var s=l&&l.target&&l.target.closest(".vis-custom-time"),f=s&&s.getAttribute("class"),p=f&&U()(f.replace("vis-custom-time",""));o&&!n&&"startPlaybackTime"!==p&&"endPlaybackTime"!==p&&i(o.toISOString(),e)}}},timechangedHandler:function(t){var e=t.currentTime,n=t.setOffset,r=void 0===n?function(){}:n,o=t.setCurrentTime,i=void 0===o?function(){}:o,a=t.currentTimeRange,u=void 0===a?{}:a,c=t.playbackRange,l=t.setPlaybackRange,s=void 0===l?function(){}:l,f=t.selectedLayer;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.time,o=t.id;if("startPlaybackTime"!==o&&"endPlaybackTime"!==o)"currentTime"===o&&(u.end?K(n,u.end)?i(n.toISOString(),null):(i(u.end),r(n.toISOString())):i(n.toISOString(),f)),"offsetTime"===o&&(K(e,n)?r(n.toISOString()):(i(n.toISOString()),r(e)));else{var a=G(G({},c),{},Y({},o,n.toISOString())),l=(0,W.og)(a.startPlaybackTime,a.endPlaybackTime),p=l.start,d=l.end;K(p,d)&&s({startPlaybackTime:p,endPlaybackTime:d})}}}});function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $(t,e,n){return(e=function(t){var e=function(t){if("object"!=Q(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Q(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tt(t){return function(t){if(Array.isArray(t))return et(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return et(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const nt=(0,y.compose)((0,y.withPropsOnChange)(["rangeItems","playbackRange","playbackEnabled","selectedLayer"],(function(t){var e=t.rangeItems,n=void 0===e?[]:e,r=t.playbackEnabled,o=t.playbackRange;return{rangeItems:r&&o&&void 0!==o.startPlaybackTime&&void 0!==o.endPlaybackTime?[].concat(tt(n),[X(X({id:"playback-range"},(0,W.og)(o.startPlaybackTime,o.endPlaybackTime)),{},{type:"background",className:"ms-playback-range"})]).filter((function(t){return t})):n}})),(0,y.compose)((0,y.withHandlers)({onUpdate:function(t){var e=t.moveCurrentRange,n=void 0===e?function(){}:e;return function(t){var e=t.id,r=t.start;"current-range"===e&&n(r.toISOString())}}}),(0,y.withPropsOnChange)(["options","onUpdate"],(function(t){var e=t.options,n=void 0===e?{}:e,r=t.onUpdate,o=void 0===r?function(){}:r;return{options:X(X({},n),{},{snap:null,editable:{add:!1,updateTime:!1,updateGroup:!1,remove:!1,overrideItems:!1},onMove:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;o(t),e(t)}})}})),(0,y.withPropsOnChange)(["rangeItems","currentTime","offsetEnabled","selectedLayer","currentTimeRange","readOnly"],(function(t){var e=t.currentTimeRange,n=t.rangeItems,r=void 0===n?[]:n,o=t.readOnly;return{rangeItems:t.offsetEnabled&&void 0!==e.start&&void 0!==e.end?[].concat(tt(r),[X(X({id:"current-range",editable:{updateTime:!o,updateGroup:!1,remove:!1}},(0,W.og)(e.start,e.end)),{},{type:"background",className:"ms-current-range"})]).filter((function(t){return t})):r}}))),(0,y.withPropsOnChange)(["currentTime","playbackRange","playbackEnabled","offsetEnabled","currentTimeRange"],(function(t){var e=t.currentTime,n=t.playbackRange,r=t.playbackEnabled,o=t.offsetEnabled,i=t.currentTimeRange;return{customTimes:[e?{currentTime:e}:{},r&&n&&n.startPlaybackTime&&n.endPlaybackTime?n:{},o&&i?{offsetTime:i.end}:{}].reduce((function(t,e){return e?X(X({},t),e):X({},t)}),{})}})));var rt=n(308316);function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ut(t,e,n){return(e=function(t){var e=function(t){if("object"!=ot(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ot(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ct=(0,Z.oz)((function(t,e){return t===e||!M()(t)&&!M()(e)&&t.id===e.id&&t.title===e.title&&t.name===e.name}))(I.rV,(function(t){return t})),lt=(0,y.compose)((0,m.connect)((0,v.P1)(I.YK,I.__,ct,I.E2,rt.Pz,(function(t,e,n,r,o){return{viewRange:t,items:e,layers:n,loading:r,currentLocale:o}}))),(0,y.withPropsOnChange)((function(t,e){var n=t.layers,r=void 0===n?[]:n,o=t.loading,i=t.selectedLayer,a=t.currentLocale,u=e.layers,c=e.loading,l=e.selectedLayer,s=e.nextLocale,f=t.hideLayersName!==e.hideLayersName;return o!==c||i!==l||a!==s||f||r&&u&&r.length!==u.length||L()(r,u||[],(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.id+t.title+t.name})).length>0}),(function(t){var e=t.layers,n=void 0===e?[]:e,r=t.loading,o=void 0===r?{}:r,i=t.selectedLayer,u=t.currentLocale;return{groups:n.map((function(t){var e;return{id:t.id,className:(o[t.id]?"loading":"")+(t.id&&t.id===i?" selected":""),content:'<div class="timeline-layer-label-container">'+(o[t.id]?'<div class="timeline-layer-icon"><div class="timeline-spinner"></div></div>':'<div class="timeline-layer-icon">'.concat(t.id&&t.id===i?'<i class="glyphicon glyphicon-time"></i>':"","</div>"))+'<div class="timeline-layer-title">'.concat(D()(t.title)?null!==(e=t.title[u])&&void 0!==e?e:t.title.default:a()(t.title)&&t.title?t.title:t.name,"</div>")+"</div>"}}))}}))),st=(0,y.compose)((0,m.connect)((0,v.P1)(T.WT,I.m_,(function(t,e){return{currentTime:t,currentTimeRange:e}})),{setCurrentTime:h.HM,moveCurrentRange:b.PZ,setOffset:b.pF})),ft=(0,y.compose)((0,m.connect)((0,v.zB)({playbackRange:k.KC,status:k.dS}),{setPlaybackRange:g.VS})),pt=(0,y.compose)((0,m.connect)((0,v.P1)(I.Li,(function(t){return{selectedLayer:t}})),{selectGroup:h.kq})),dt=(0,y.compose)((0,m.connect)((function(){return{}}),{rangechangedHandler:h.y3}));const mt=(0,y.compose)(st,ft,pt,J,dt,lt,(0,y.defaultProps)({key:"timeline",options:{maxHeight:"90%",verticalScroll:!0,stack:!1,showMajorLabels:!0,showCurrentTime:!1,zoomMin:10,zoomable:!0,type:"background",margin:{item:0,axis:0},format:{minorLabels:{minute:"h:mma",hour:"ha"}},itemsAlwaysDraggable:!0,moment:function(t){return c()(t).utc()}}}),(0,y.withPropsOnChange)(["viewRange","options"],(function(t){var e=t.viewRange,n=void 0===e?{}:e;return{options:at(at({},t.options),n)}})),(0,y.withPropsOnChange)(["status"],(function(t){return{readOnly:"PLAY"===t.status}})),(0,y.withPropsOnChange)(["items"],(function(t){var e=t.items,n=t.options,r=C()(e,{className:"interval"});return{options:at(at({},n),r&&{stack:!0})}})),nt,(0,H.Z)((function(t){var e=t.loading;return e&&e.timeline}),(function(){return p().createElement("div",{style:{margin:"auto",fontWeight:"bold"}},p().createElement(V.Z,{style:{display:"inline-block",verticalAlign:"middle"}}),p().createElement(O.Z,{msgId:"loading"}))}),{white:!0}))((0,x.Z)()((0,f.lazy)((function(){return Promise.all([n.e(94855),n.e(14328)]).then(n.bind(n,790346))}))));var yt=n(502822),vt=n.n(yt),bt=n(159979),gt=n(38560);function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function Ot(){return Ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ot.apply(null,arguments)}function St(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?St(Object(n),!0).forEach((function(e){Pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pt(t,e,n){return(e=function(t){var e=function(t){if("object"!=ht(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ht(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jt=(0,y.compose)((0,y.withProps)({collapseHintPopoverOptions:{placement:"top",props:{title:p().createElement("span",null,p().createElement(d.gG,{glyph:"time"})," ",p().createElement("strong",null,p().createElement(O.Z,{msgId:"timeline.collapsed.title"})))},content:p().createElement(O.Z,{msgId:"timeline.collapsed.tooltip"})}}),(0,y.mapPropsStream)((function(t){return t.combineLatest(function(t){return t.distinctUntilKeyChanged("collapsed").filter((function(t){return t.collapsed})).take(1).switchMap((function(t){var e=t.collapseHintPopoverOptions;return vt().Observable.timer(5e3).startWith({popoverOptions:e}).concat(vt().Observable.of({}))})).startWith({})}(t),(function(t,e){return wt(wt({},t),e)}))})),(0,y.branch)((function(t){return t.popoverOptions}),bt.Z,S.Z))(gt.Z);const Tt=(0,y.compose)((0,m.connect)((0,v.P1)(I.zb,I.qJ,(function(t,e){return{collapsed:t,visible:e}})),{setCollapsed:h.w2}),(0,y.branch)((function(t){return!t.visible}),y.renderNothing),(0,y.withHandlers)({onClick:function(t){var e=t.collapsed,n=t.setCollapsed;return function(){return n(!e)}}}),(0,y.withProps)((function(t){var e=t.collapsed;return{bsStyle:e?"primary":"success",tooltipId:e?"timeline.show":"timeline.hide"}})))((function(t){return p().createElement(jt,Ot({},t,{bsSize:"xsmall"}),p().createElement(d.gG,{glyph:"time"}))}));var Et=n(624262),kt=n(532425);function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Rt(){return Rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rt.apply(null,arguments)}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){Lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lt(t,e,n){return(e=function(t){var e=function(t){if("object"!=It(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==It(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nt=(0,S.Z)(gt.Z),Mt=function(t){return a()(t)&&-1!==t.indexOf("%")},_t=function(t){return parseInt(t,10)/100},Ct=function(t,e){return c()(e).diff(t)>0},xt=(0,y.compose)((0,m.connect)((0,v.P1)(I.pn,I.rV,T.WT,I.m_,T.RP,k.KC,k.dS,I.YK,(function(t){var e;return void 0!==(null===(e=t.timeline)||void 0===e?void 0:e.loader)}),I.Li,(function(t,e,n,r,o,i,a,u,c,l){return{visible:t,layers:e,currentTime:n,currentTimeRange:r,offsetEnabled:o,playbackRange:i,status:a,viewRange:u,timelineIsReady:c,selectedLayer:l}})),{setCurrentTime:h.HM,onOffsetEnabled:h.PQ,setOffset:b.pF,setPlaybackRange:g.VS,moveRangeTo:h.y3,onInit:h._e,reset:h.FE}),(0,y.branch)((function(t){var e=t.visible,n=void 0===e||e,r=t.layers,o=void 0===r?[]:r;return!n||0===Object.keys(o).length}),y.renderNothing),(0,y.withState)("options","setOptions",(function(t){return{collapsed:!t.expandedPanel}})),(0,m.connect)((0,v.P1)(I.cX,(function(t){return{mapSync:t}})),{toggleMapSync:h.Z7}),(0,y.compose)((0,y.compose)((0,y.withStateHandlers)((function(){return{}}),{onResize:function(){return function(t){return{containerWidth:t.width}}}}),(0,w.Z)({querySelector:".ms2",closest:!0,debounceTime:100})),(0,y.defaultProps)({showHiddenLayers:!1,expandLimit:20,snapType:"start",endValuesSupport:void 0,style:{marginBottom:35,marginLeft:100,marginRight:80}}),(0,m.connect)((0,v.P1)((function(t){return(0,E.ic)(t,{right:!0,bottom:!0,left:!0})}),(function(t){return{mapLayoutStyle:t}}))),(0,y.withProps)((function(t){var e=t.containerWidth,n=t.style,r=t.mapLayoutStyle,o=n||{},i=o.marginLeft,a=o.marginRight,u=r.left,c=void 0===u?0:u,l=r.right,s=void 0===l?0:l;if(s=Mt(s)&&_t(s)*e||s,c=Mt(c)&&_t(c)*e||c,e){var f=e-s-c-i-a;return{hide:f<410,compactToolbar:f<880,style:At(At(At({},n),r),{},{minWidth:410})}}return{style:At(At(At({},n),r),{},{minWidth:410})}})),(0,y.branch)((function(t){return t.hide}),y.renderNothing),(0,y.setDisplayName)("TimelinePlugin")))((function(t){var e=t.items,n=t.options,r=t.setOptions,i=t.mapSync,a=t.toggleMapSync,u=void 0===a?function(){}:a,l=t.currentTime,s=t.setCurrentTime,m=t.offsetEnabled,y=t.onOffsetEnabled,v=t.currentTimeRange,b=t.setOffset,g=t.style,h=t.status,S=t.viewRange,w=t.moveRangeTo,T=t.compactToolbar,E=t.showHiddenLayers,k=t.expandLimit,I=t.snapType,R=t.endValuesSupport,D=t.onInit,A=void 0===D?function(){}:D,L=t.layers,N=t.timelineIsReady,M=t.initialMode,_=void 0===M?"single":M,C=t.initialSnap,x=void 0===C?"now":C,Z=t.resetButton,H=t.reset,V=void 0===H?function(){}:H,z=t.selectedLayer;(0,f.useEffect)((function(){A({showHiddenLayers:E,expandLimit:k,snapType:I,endValuesSupport:R,initialMode:_,initialSnap:x})}),[A]);var U=n.hideLayersName,W=n.collapsed,B=o()(e&&e.filter((function(t){return"playback"===t.name}))),F=B&&B.plugin,G=function(t,e,n,r){var o=c()(n.end).diff(n.start)/2;if("time-current"===e&&n&&n.start.toString()!==c()(t).add(-1*o).toString()&&n.end.toString()!==c()(t).add(o).toString()&&w({start:c()(t).add(-1*o),end:c()(t).add(o)}),"range-start"===e||"range-end"===e){var i=c()(r.end).diff(r.start),a=c()(r.start).add(i/2);w(i/2<=o?{start:c()(a).add(-1*o),end:c()(a).add(o)}:{start:c()(a).add(-1*i*5/2),end:c()(a).add(5*i/2)})}};return p().createElement("div",{style:At(At({position:"absolute",marginBottom:35,marginLeft:100},g),{},{right:W?"auto":g.right||0}),className:"timeline-plugin".concat(U?" hide-layers-name":"").concat(m?" with-time-offset":""," ").concat((0,Et.ab)(L)?"":"hidden")},m&&p().createElement(j.Z,{clickable:!W,glyph:"range-start",onIconClick:function(t,e){return"PLAY"!==h&&G(t,e,S,v)},tooltip:p().createElement(O.Z,{msgId:"timeline.rangeStart"}),showButtons:!0,date:l||v&&v.start,onUpdate:function(t){return(v&&Ct(t,v.end)||!v)&&"PLAY"!==h&&s(t)},className:"shadow-soft",style:{position:"absolute",top:-5,left:2,transform:"translateY(-100%)"}}),p().createElement("div",{className:"timeline-plugin-toolbar".concat(T?" ms-collapsed":"")},m&&v?p().createElement(j.Z,{clickable:!W,glyph:"range-end",onIconClick:function(t,e){return"PLAY"!==h&&G(t,e,S,v)},tooltip:p().createElement(O.Z,{msgId:"timeline.rangeEnd"}),date:v.end,showButtons:!0,onUpdate:function(t){return"PLAY"!==h&&Ct(l,t)&&b(t)}}):p().createElement(j.Z,{clickable:!W,glyph:"time-current",showButtons:!0,onIconClick:function(t,e){return"PLAY"!==h&&G(t,e,S)},tooltip:p().createElement(O.Z,{msgId:"timeline.currentTime"}),date:l||v&&v.start,onUpdate:function(t){return(v&&Ct(t,v.end)||!v)&&"PLAY"!==h&&s(t)}}),p().createElement("div",{className:"timeline-plugin-btn-group"},p().createElement(P.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"list",tooltip:p().createElement(O.Z,{msgId:U?"timeline.showLayerName":"timeline.hideLayerName"}),bsStyle:U?"primary":"success",visible:!W,active:!U,onClick:function(){return r(At(At({},n),{},{hideLayersName:!U}))}},{glyph:"time-offset",bsStyle:m?"success":"primary",active:m,disabled:"PLAY"===h,tooltip:p().createElement(O.Z,{msgId:m?"timeline.disableRange":"timeline.enableRange"}),onClick:function(){"PLAY"!==h&&y(!m)}},{glyph:"viewport-filter",tooltip:p().createElement(O.Z,{msgId:i?"timeline.mapSyncOn":"timeline.mapSyncOff"}),bsStyle:i?"success":"primary",active:i,onClick:function(){return u(!i)}},{glyph:m?"resize-horizontal":"time",visible:!!Z,tooltip:p().createElement(O.Z,{msgId:"timeline.reset.".concat(m?"range":z?"singleNearest":"singleNow")}),bsStyle:"primary",onClick:V}]}),F&&p().createElement(F,Rt({},B,{settingsStyle:{right:W||T?40:"unset"}}))),p().createElement(Nt,{onClick:function(){return r(At(At({},n),{},{collapsed:!W}))},className:"square-button-sm ms-timeline-expand",bsStyle:"primary",tooltip:p().createElement(O.Z,{msgId:W?"timeline.expand":"timeline.collapse"})},p().createElement(d.gG,{glyph:W?"chevron-up":"chevron-down"}))),!N&&p().createElement("div",{className:"timeline-loader"},p().createElement(kt.Z,{size:50})),!W&&p().createElement(mt,{offsetEnabled:m,playbackEnabled:!0,hideLayersName:U,timelineLayers:L}))}));const Zt={TimelinePlugin:s()(xt,{disablePluginIf:"{state('mapType') === 'cesium'}",WidgetsTray:{tool:p().createElement(Tt,null),position:0}}),reducers:{dimension:n(937307).Z,timeline:n(455545).Z},epics:n(626325).ZP}},455545:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n(580416),o=n(782904),i=n(757676),a=n(881808),u=n(162187),c=n(761868),l=n(328583),s=n.n(l),f=n(535937),p=n.n(f),d=n(218721),m=n.n(d);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return(e=function(t){var e=function(t){if("object"!=y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{autoSelect:!0,collapsed:!1,snapType:"start",snapRadioButtonEnabled:!1}},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.M5:return(0,c.t8)("settings.collapsed",e.collapsed,t);case i.w:return(0,c.t8)("settings.mapSync",e.mapSync,t);case i.lz:return(0,c.t8)("settings.snapType",e.snapType,t);case i.Wb:return(0,c.t8)("settings.endValuesSupport",e.endValuesSupport,t);case i.Lv:return(0,c.t8)("range",{start:e.start,end:e.end},t);case i.iv:return(0,c.t8)("rangeData[".concat(e.layerId,"]"),{range:e.range,histogram:e.histogram,domain:e.domain},t);case i.br:return e.layerId?(0,c.t8)("loading[".concat(e.layerId,"]"),e.loading,t):(0,c.t8)("loading.timeline",e.loading,t);case i._V:var n=t;return n=(0,c.t8)("selectedLayer",e.layerId,n),(0,c.t8)("settings",b(b({},n.settings),{},{snapType:"start",snapRadioButtonEnabled:!1}),n);case i.AE:case u.AN:var l,f=null!==(l=e.timeIntervalData)&&void 0!==l?l:e.snapRadioButtonEnabled;return(0,c.t8)("settings.snapRadioButtonEnabled",f,t);case i.Xe:return(0,c.t8)("selectedLayer",e.layerId,t);case r.sb:var d=t;return s()({},t,{rangeData:m()(d.rangeData,e.node)?p()(d.rangeData,(function(t,n){return n!==e.node})):d.rangeData,loading:m()(d.rangeData,e.node)?p()(d.loading,(function(t,n){return n!==e.node})):d.loading,selectedLayer:t.selectedLayer===e.node?void 0:t.selectedLayer});case o.l:return s()({},t,{range:void 0,rangeData:void 0,selectedLayer:void 0,loading:void 0,MouseEvent:void 0,layers:void 0});case i.p:var y,v,g=null==t||null===(y=t.settings)||void 0===y?void 0:y.endValuesSupport,h=null==t||null===(v=t.settings)||void 0===v?void 0:v.snapRadioButtonEnabled,O=null==e?void 0:e.config;return(0,c.t8)("settings",b(b({},t.settings),{},{showHiddenLayers:O.showHiddenLayers,expandLimit:O.expandLimit,snapType:O.snapType,endValuesSupport:null!=g?g:O.endValuesSupport,snapRadioButtonEnabled:null!=h?h:O.snapRadioButtonEnabled,initialMode:O.initialMode,initialSnap:O.initialSnap}),t);case a.ok:var S,w,P,j;return b(b({},t),{},{settings:b(b({},t.settings),{},{endValuesSupport:null==e||null===(S=e.config)||void 0===S||null===(w=S.timelineData)||void 0===w?void 0:w.endValuesSupport,snapRadioButtonEnabled:null==e||null===(P=e.config)||void 0===P||null===(j=P.timelineData)||void 0===j?void 0:j.snapRadioButtonEnabled})});case i.xp:return(0,c.t8)("layers",e.layers,t);case i.i9:return(0,c.t8)("layers",(t.layers||[]).map((function(t){var n;return null!==(n=Object.keys(t))&&void 0!==n&&n.find((function(t){return t===e.id}))?(0,c.t8)("".concat(e.id),{hideInTimeline:!e.checked},t):t})),t);default:return t}}},285148:(t,e,n)=>{"use strict";n.d(e,{Qw:()=>b,jo:()=>h,m$:()=>O,AF:()=>S,LS:()=>w,WT:()=>P,ns:()=>j,RP:()=>T,aK:()=>E,oP:()=>k});var r=n(675110),o=n(55237),i=n(22222),a=n(227361),u=n.n(a),c=n(313311),l=n.n(c);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return d(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return(e=function(t){var e=function(t){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t,e){return function(n){return u()(n,"dimension.data[".concat(e,"][").concat(t,"]"))}},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return l()(t.dimensions||[],{name:e})},h=function(t,e){return function(n){return b(t.id,e)(n)||g(t,e)}},O=function(t){return(0,r.l2)(t).reduce((function(e,n){var r=h(n,"time")(t);return r?y(y({},e),{},v({},n.id,r)):e}),{})},S=function(t){return(0,r.l2)(t).filter((function(t){return g(t,"time")}))},w=function(t){return(0,r.l2)(t).filter((function(t){return t.visibility&&g(t,"time")}))},P=function(t){var e=u()(t,"dimension.currentTime");return e&&e.split("/")[0]},j=function(t){return u()(t,"dimension.offsetTime")},T=function(t){return!!j(t)},E=((0,i.P1)(O,(function(t){return Object.keys(t).reduce((function(e,n){return[].concat(f(e),f(t[n]&&t[n].values||[]))}),[]).sort()||[]})),function(t){return function(e){return f(u()(h(t,"time")(e),"values",[])).sort()}}),k=function(t,e){var n=b(e,"time")(t),r=n&&n.domain&&n.domain.split("--");if(r&&2===r.length)return r&&{start:r[0],end:r[1]};var i,a,u=n&&n.domain&&n.domain.split(",");if(u&&u.length>0){var c=(i=(0,o.tz)(u),a=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(i,a)||p(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{start:c[0],end:c[1]}}return null}},55105:(t,e,n)=>{"use strict";n.d(e,{Ss:()=>m,Nr:()=>y,QJ:()=>v,ic:()=>b,Jz:()=>g,VM:()=>h,CF:()=>O,Ju:()=>S,Fc:()=>w,gQ:()=>P});var r=n(91175),o=n.n(r),i=n(288306),a=n.n(i),u=n(800827),c=n(552259),l=n(737275);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return(e=function(t){var e=function(t){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){return t.maplayout&&t.maplayout.layout||{}},y=function(t){return t.maplayout&&t.maplayout.boundingMapRect||{}},v=function(t){return t.maplayout&&t.maplayout.boundingSidebarRect||{}},b=a()((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=m(t),o=v(t);return r&&Object.keys(r).filter((function(t){return e[t]})).reduce((function(t,e){var i;return p(p({},t),{},d({},e,n&&null!==(i=o[e])&&void 0!==i?i:r[e]))}),{})||{}}),(function(t,e,n){return JSON.stringify(m(t))+JSON.stringify(v(t))+JSON.stringify(e)+(n?"_isDock":"")})),g=function(t){var e;return!(null===(e=m(t))||void 0===e||!e.rightPanel)},h=function(t){var e,n=l.ZP.getConfigProp("mapLayout")||c.Ur;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=m(t);return!!o()(e.filter((function(t){return n[t.key]})).map((function(t){return"not"===t.type?n[t.key]!==t.value&&n[t.key]:n[t.key]===t.value})))}(t,[{key:"bottom",value:null!==(e=null==n?void 0:n.bottom.sm)&&void 0!==e?e:0,type:"not"}])},O=function(t){var e=(0,u.Od)(t),n=y(t);return n&&e&&e.size&&{left:(0,c.pb)(n.left,e.size.width),bottom:(0,c.pb)(n.bottom,e.size.height),right:(0,c.pb)(n.right,e.size.width),top:(0,c.pb)(n.top,e.size.height)}},S=function(t){var e,n;return null!==(e=null==t||null===(n=t.maplayout)||void 0===n?void 0:n.dockPanels)&&void 0!==e?e:{left:[],right:[]}},w=function(t){return b(t,{height:!0,right:!0},!0)},P=function(t){return b(t,{right:!0},!0)}},997291:(t,e,n)=>{"use strict";n.d(e,{YK:()=>w,TQ:()=>P,oo:()=>j,zb:()=>T,en:()=>E,pW:()=>k,ei:()=>I,Hc:()=>R,cX:()=>D,__:()=>L,E2:()=>N,Li:()=>M,fP:()=>_,uy:()=>C,gB:()=>x,Ry:()=>Z,m_:()=>H,dJ:()=>V,Kf:()=>z,A7:()=>U,rV:()=>W,qJ:()=>B,pn:()=>F,F3:()=>G});var r=n(227361),o=n.n(r),i=n(91175),a=n.n(i),u=n(22222),c=n(784715),l=n(196975),s=n(55237),f=n(285148),p=n(800827),d=n(675110);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function y(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||O(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return(e=function(t){var e=function(t){if("object"!=m(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||O(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){if(t){if("string"==typeof t)return S(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var w=function(t){return o()(t,"timeline.range")},P=function(t){return o()(t,"timeline.settings")},j=function(t){return o()(P(t),"expandLimit")||10},T=function(t){return o()(P(t),"collapsed")},E=function(t){return o()(P(t),"autoSelect")},k=function(t){return o()(P(t),"snapType")||"start"},I=function(t){return o()(P(t),"snapRadioButtonEnabled")||!1},R=function(t){return o()(P(t),"endValuesSupport")},D=function(t){return o()(P(t),"mapSync")},A=function(t,e){return(t||[]).reduce((function(t,n){return[].concat(y(t),y(function(t,e){var n=h(t.split("/"),3),r=n[0],o=n[1],i=n[2];if(i&&"0"!==i){var a=(0,s.Xu)({start:r,end:o,duration:i},e),u=a.count,c=a.start,l=a.end;return u>50?[{start:r,end:o,duration:i,type:"range",content:"".concat(u," items")}]:(0,s.tr)({start:c,end:l,duration:i}).map((function(t){return{start:new Date(t),end:new Date(t),type:"point"}}))}return isNaN(new Date(r).getTime())?null:[b({start:new Date(r),end:new Date(o||r),type:o?"range":"point"},o&&{className:"interval"})]}(n,e)))}),[]).filter((function(t){return t&&t.start}))},L=(0,c.y1)(f.m$,w,(function(t){return o()(t,"timeline.rangeData")}),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y(Object.keys(t).map((function(r){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return n?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(t.domain&&t.domain.values)return A(t.domain.values,e);if(t.histogram&&t.histogram.domain&&t.histogram.values){var n=h(t.histogram.domain.split("/"),3),r=n[0],o=n[1],i=n[2],a=Math.max.apply(Math,y(t.histogram.values)),u=(0,s.jb)({start:r,end:o,duration:i});return t.histogram.values.map((function(t,e){return b(b({},u[e]),{},{type:"range",itemType:"histogram",count:t,className:"histogram-item",content:'<div><div class="histogram-box" style="height: '.concat(100*t/a,'%"></div> <span class="histogram-count">').concat(t,"</span></div>")})}))}return[]}(n,e):t&&t.values||t&&t.domain&&!(0,s._q)(t.domain)?A(t.values||t.domain.split(","),e):[]}(t[r],e,n[r]).map((function(){return b(b({content:" "},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{},{group:r})}))})).reduce((function(t,e){return[].concat(y(t),y(e))}),[]))})),N=function(t){return o()(t,"timeline.loading")},M=function(t){return o()(t,"timeline.selectedLayer")},_=function(t){return(0,d.CA)(t,M(t))},C=function(t){var e;return null===(e=_(t))||void 0===e?void 0:e.name},x=function(t){var e;return(null===(e=_(t))||void 0===e?void 0:e.dimensions)&&a()(_(t).dimensions.filter((function(t){return"time"===t.name})))},Z=function(t){return o()(x(t),"source.url")},H=(0,u.P1)(f.WT,f.ns,(function(t,e){return{start:t,end:e}})),V=function(t){return(0,f.oP)(t,M(t))},z=function(t){return o()(t,"timeline.layers")},U=function(t){return(z(t)||[]).map((function(e){var n=o()(Object.keys(e),"[0]"),r=(0,d.Sj)(t,n);return b(b({},e[n]),{},{title:r,id:n})}))},W=function(t){var e=(0,f.AF)(t),n=U(t)||[];return n.length?e.filter((function(t){var e;return!(null!=n&&null!==(e=n.find((function(e){return e.id===(null==t?void 0:t.id)})))&&void 0!==e&&e.hideInTimeline)})):e},B=(0,u.P1)(W,(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length>0})),F=function(t){return!T(t)&&B(t)},G=function(t){return function(e){var n=((0,p.Od)(e)||{}).bbox;if(!n)return{};var r=(0,f.Qw)(t,"time")(e),i=o()(r,"source.version"),a=Object.keys(n.bounds).reduce((function(t,e){return b(b({},t),{},g({},e,parseFloat(n.bounds[e])))}),{});if(!a||!D(e))return{};if("1.2"!==i){var u=(0,f.Qw)(t,"space")(e),c=o()(u,"domain.CRS");if(!c||!a||!D(e))return{};var s=h((0,l.reprojectBbox)(a,(0,p.uy)(e),c),4),d=s[0],m=s[1],y=s[2],v=s[3];return y<d&&"EPSG:4326"===c&&(y+=360),{bbox:"".concat(d,",").concat(m,",").concat(y,",").concat(v),crs:c}}var O=a.minx,S=a.miny,w=a.maxx,P=a.maxy,j=n.crs;return{bbox:"".concat(O,",").concat(S,",").concat(w,",").concat(P,",").concat(j)}}}},441761:(t,e,n)=>{var r=n(644239),o=n(637005);t.exports=function(t){return o(t)&&"[object Date]"==r(t)}},18190:t=>{var e=Math.floor;t.exports=function(t,n){var r="";if(!t||n<1||n>9007199254740991)return r;do{n%2&&(r+=t),(n=e(n/2))&&(t+=t)}while(n);return r}},105076:(t,e,n)=>{var r=n(989881);t.exports=function(t,e){var n;return r(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}},378302:(t,e,n)=>{var r=n(18190),o=n(880531),i=n(440180),a=n(862689),u=n(788016),c=n(683140),l=Math.ceil;t.exports=function(t,e){var n=(e=void 0===e?" ":o(e)).length;if(n<2)return n?r(e,t):e;var s=r(e,l(t/u(e)));return a(e)?i(c(s),0,t).join(""):s.slice(0,t)}},23279:(t,e,n)=>{var r=n(513218),o=n(707771),i=n(14841),a=Math.max,u=Math.min;t.exports=function(t,e,n){var c,l,s,f,p,d,m=0,y=!1,v=!1,b=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=c,r=l;return c=l=void 0,m=e,f=t.apply(r,n)}function h(t){var n=t-d;return void 0===d||n>=e||n<0||v&&t-m>=s}function O(){var t=o();if(h(t))return S(t);p=setTimeout(O,function(t){var n=e-(t-d);return v?u(n,s-(t-m)):n}(t))}function S(t){return p=void 0,b&&c?g(t):(c=l=void 0,f)}function w(){var t=o(),n=h(t);if(c=arguments,l=this,d=t,n){if(void 0===p)return function(t){return m=t,p=setTimeout(O,e),y?g(t):f}(d);if(v)return clearTimeout(p),p=setTimeout(O,e),g(d)}return void 0===p&&(p=setTimeout(O,e)),f}return e=i(e)||0,r(n)&&(y=!!n.leading,s=(v="maxWait"in n)?a(i(n.maxWait)||0,e):s,b="trailing"in n?!!n.trailing:b),w.cancel=function(){void 0!==p&&clearTimeout(p),m=0,c=d=l=p=void 0},w.flush=function(){return void 0===p?f:S(o())},w}},170735:(t,e,n)=>{var r=n(920731),o=n(121078),i=n(267206),a=n(105976),u=n(229246),c=n(610928),l=a((function(t,e){var n=c(e);return u(n)&&(n=void 0),u(t)?r(t,o(e,1,u,!0),i(n,2)):[]}));t.exports=l},647960:(t,e,n)=>{var r=n(441761),o=n(307518),i=n(531167),a=i&&i.isDate,u=a?o(a):r;t.exports=u},707771:(t,e,n)=>{var r=n(555639);t.exports=function(){return r.Date.now()}},532475:(t,e,n)=>{var r=n(378302),o=n(788016),i=n(640554),a=n(479833);t.exports=function(t,e,n){t=a(t);var u=(e=i(e))?o(t):0;return e&&u<e?r(e-u,n)+t:t}},313880:(t,e,n)=>{var r=n(479833);t.exports=function(){var t=arguments,e=r(t[0]);return t.length<3?e:e.replace(t[1],t[2])}},359704:(t,e,n)=>{var r=n(282908),o=n(267206),i=n(105076),a=n(701469),u=n(816612);t.exports=function(t,e,n){var c=a(t)?r:i;return n&&u(t,e,n)&&(e=void 0),c(t,o(e,3))}}}]);