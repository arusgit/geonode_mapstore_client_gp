(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[76722],{82110:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(621413),o=n.n(r),i=n(496259),a=n(532425);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=function(e){var t=e.width,n=e.height,r=e.className,c=void 0===r?"loader-container":r,u=e.contentStyle,s=void 0===u?{}:u;return o().createElement("div",{className:c},o().createElement(i.Z,null,(function(e){var r=e.width,i=void 0===r?200:r,c=e.height,u=void 0===c?200:c,f=t||(u>0?Math.min(i,u):i),p=n||(u>0?Math.min(i,u):i),y=Math.min(f,p);return o().createElement(a.Z,{size:y,style:l({padding:y/10,margin:"auto",display:"flex"},s)})})))}},145869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(621413),o=n.n(r),i=n(45697),a=n.n(i);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=s(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return o().createElement("label",{className:"mapstore-switch-btn ".concat(this.props.className)},o().createElement("input",{type:"checkbox",disabled:this.props.disabled,checked:this.props.checked,onChange:function(){return e.props.onChange(!e.props.checked)}}),o().createElement("span",{onClick:function(){return e.props.onClick(!e.props.checked)},className:"m-slider"}))}}])&&u(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(o().Component);p(m,"propTypes",{disabled:a().bool,className:a().string,checked:a().bool,onChange:a().func,onClick:a().func}),p(m,"defaultProps",{className:"",checked:!1,onChange:function(){},onClick:function(){}});const b=m},112346:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(621413),o=n.n(r),i=n(45697),a=n.n(i),c=n(724469),u=n(145869),l=n(80717),s=n(805346);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function d(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=m(t),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return o().createElement(l.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},btnGroupProps:{style:{margin:5}},buttons:[{glyph:this.props.checked?"chevron-down":"chevron-left",visible:!0,disabled:this.props.disabled,tooltip:this.props.checked?o().createElement(s.Z,{msgId:"collapse"}):o().createElement(s.Z,{msgId:"expand"}),onClick:function(){return e.props.onClick(!e.props.checked)}}]})}}])&&p(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(o().Component);d(g,"propTypes",{checked:a().bool,disabled:a().bool,onClick:a().func}),d(g,"defaultProps",{checked:!1,disabled:!1,onClick:function(){}});const h=g;var P=n(38560),S=n(82110);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function T(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=function(e){if("object"!=O(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:t+""}var A=function(){return o().createElement(P.Z,{className:"square-button-sm no-border switch-error"},o().createElement(c.gG,{glyph:"exclamation-mark",className:"text-danger"}))},I=function(){return o().createElement("div",{className:"switch-loading"},o().createElement(S.Z,{size:"small"}))},_=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return T(e=function(e,t,n){return t=k(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E()?Reflect.construct(t,n||[],k(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"state",{}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(t,e),n=t,(r=[{key:"renderHeader",value:function(){var e=this,t=this.props.useToolbar?h:u.Z;return o().createElement("div",null,o().createElement("div",{className:"pull-left"},this.props.title||this.props.header),o().createElement("div",{className:"pull-right"},this.props.locked?null:o().createElement(t,{disabled:this.props.disabled,checked:this.props.expanded,onClick:function(t){e.props.disabled||e.props.onSwitch(t)}}),this.props.error?o().createElement(A,null):null,this.props.loading?o().createElement(I,null):null,this.props.buttons.length>0&&this.props.expanded&&o().createElement(l.Z,{btnDefaultProps:{className:"square-button-sm no-border"},buttons:this.props.buttons})))}},{key:"render",value:function(){return o().createElement(c.s_,{className:"mapstore-switch-panel",collapsible:!0,expanded:this.props.expanded,defaultExpanded:this.props.defaultExpanded,header:this.renderHeader()},this.props.children)}}])&&w(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(o().Component);T(_,"propTypes",{header:a().node,title:a().oneOfType([a().string,a().node]),defaultExpanded:a().string,expanded:a().bool,onSwitch:a().func,locked:a().bool,buttons:a().array,loading:a().bool,disabled:a().bool,error:a().any,useToolbar:a().bool}),T(_,"defaultProps",{title:"",disabled:!1,expanded:!1,onSwitch:function(){},locked:!1,buttons:[],useToolbar:!1});const x=_},202576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(621413),o=n.n(r),i=n(180307),a=n.n(i),c=n(45697),u=n.n(c),l=n(724469),s=n(352595),f=n(950966);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function v(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=b(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,n||[],b(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),n=t,(r=[{key:"renderPopover",value:function(){return o().createElement(l.J2,{id:this.props.id,placement:this.props.placement,positionLeft:this.props.left,positionTop:this.props.top,title:this.props.title,style:this.props.popoverStyle},this.props.text)}},{key:"renderContent",value:function(){var e=this;return o().createElement(l.gG,{ref:function(t){e.target=t},className:"text-".concat(this.props.bsStyle),glyph:this.props.glyph})}},{key:"render",value:function(){var e=this,t=!0===this.props.trigger?["hover","focus"]:this.props.trigger;return o().createElement("span",{className:"mapstore-info-popover"},this.props.trigger?o().createElement(f.Z,{trigger:t,placement:this.props.placement,overlay:this.renderPopover()},this.renderContent()):[this.renderContent(),o().createElement(s.Z,{placement:this.props.placement,show:!0,target:function(){return a().findDOMNode(e.target)}},this.renderPopover())])}}])&&y(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(o().Component);v(h,"propTypes",{id:u().string,title:u().string,text:u().string,glyph:u().string,bsStyle:u().string,placement:u().string,left:u().number,top:u().number,trigger:u().oneOfType([u().array,u().bool]),popoverStyle:u().object}),v(h,"defaultProps",{id:"",title:"",text:"",placement:"right",left:200,top:50,glyph:"question-sign",bsStyle:"info",trigger:["hover","focus"]});const P=h},377605:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_e});var r=n(727418),o=n.n(r),i=n(621413),a=n.n(i),c=n(171703),u=n(867076),l=n(22222),s=n(162187),f=n(730381),p=n.n(f),y=n(227361),m=n.n(y),b=n(441609),d=n.n(b),v=n(57604),g=n(757676),h=n(580416),P=n(197395),S=n(285148),O=n(275982),w=n(176843),E=n(997291),k=n(55237);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=n(589919),A=n(50886),I=n(496361),_=n(502822),x=n.n(_),Z=n(881808);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return N(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return(t=function(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,E.Li)(e()),i=(0,E.uy)(e()),a=(0,E.Ry)(e()),c=(0,w.KC)(e())||{},u=c.startPlaybackTime,l=c.endPlaybackTime,f=(0,w.dS)(e())===s.Q_.PLAY||(0,w.dS)(e())===s.Q_.PAUSE,p=(0,E.F3)(o)(e()),y="end"===(0,E.pW)(e());return[a,i,"time",F({limit:20,time:u&&l&&f?(t=u,n=l,"".concat(t,"/").concat(n)):void 0,fromEnd:y},r),p]},K=function(e,t){if((0,E.uy)(e())){var n=(0,S.aK)((0,E.fP)(e()))(e()),r=(0,E.gB)(e());return"multidim-extension"!==m()(r,"source.type")&&n&&n.length>0?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.fromValue,o=n.limit,i=void 0===o?20:o,a=(0,w.KC)(t())||{},c=a.startPlaybackTime,u=a.endPlaybackTime;return x().Observable.of(e.filter((function(e){return!c||!u||p()(e).isSameOrAfter(c)&&p()(e).isSameOrBefore(u)})).filter((function(e){return!r||p()(e).isAfter(r)})).slice(0,i))}(n,e,t):I.Ci.apply(void 0,(o=B(e,t),function(e){if(Array.isArray(e))return N(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||R(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map((function(t){var n=t.DomainValues.Domain.split(","),r=(0,E.Li)(e())?function(e,t){var n,r=(0,w.KC)(e())||{},o=(0,E.pW)(e()),i=null==r?void 0:r.endPlaybackTime,a=null==r?void 0:r.startPlaybackTime;return n=o&&"end"===o?t.map((function(e){return e.split("/")[1]})):t.map((function(e){return e.split("/")[0]})),a&&i?(0,k.pC)(n,a,i):n}(e,n):n;return r}))}var o;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fromValue,r=t.limit,o=void 0===r?20:r,i=t.sort,a=void 0===i?"asc":i,c=(0,w.z2)(e()),u=c.timeStep,l=c.stepUnit,s=p().duration(u,l),f=(0,w.KC)(e())||{},y=f.startPlaybackTime,m=f.endPlaybackTime,b=void 0!==n?n:y||(0,S.WT)(e())||(new Date).toString(),d=[];b!==n&&d.push(p()(b).toISOString());for(var v=0;v<o&&(b=p()(b).add("asc"===a?s:-1*s),!m||b.isBefore(m));v++)d.push(b.toISOString());return x().Observable.of(d)}(e,t)};const Y={retrieveFramesForPlayback:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(s.NH).exhaustMap((function(){return K(n,F({fromValue:(0,w.KC)(n())&&(0,w.KC)(n()).startPlaybackTime&&(0,w.KC)(n()).endPlaybackTime?void 0:(0,S.WT)(n())},"end"===(0,E.pW)(n())?{fromEnd:!0}:{})).map((function(e){return(0,s.wR)(e)})).let((0,C.hP)((0,s.zK)(!0),(0,s.zK)(!1)),(function(){return x().Observable.of((0,P.vU)({title:"There was an error retrieving animation",message:"Please contact the administrator"}),(0,s.sT)())})).let((0,C.hP)((0,g.aA)(!1,!0),(0,g.aA)(!1,!1))).concat(e.ofType(s.c9).filter((function(e){return e.frame%20==10})).switchMap((function(){return K(n,F({fromValue:(0,w.yt)(n())},"end"===(0,E.pW)(n())?{fromEnd:!0}:{})).map(s.hS).let((0,C.hP)((0,s.zK)(!0),(0,s.zK)(!1)))}))).takeUntil(e.ofType(s.N7,O.nk)).concat(x().Observable.of((0,g.aA)(!1,!1))).let(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{}};return function(t){var n=(0,S.AF)(e());return x().Observable.from(n.map((function(e){return(0,h.He)(e.id,{singleTile:!0})}))).concat(t).concat(x().Observable.from(n.map((function(e){return(0,h.He)(e.id,{singleTile:e.singleTile})}))))}}(n))}))},updateCurrentTimeFromAnimation:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(s.c9).map((function(){return(0,w.Wq)(n())})).map((function(e){return e?(0,v.PZ)(e):(0,s.sT)()}))},timeDimensionPlayback:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(s.L9).exhaustMap((function(){return x().Observable.interval(1e3*(0,w.V3)(n())).startWith(0).let(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(r){return r.withLatestFrom(e.startWith(t)).filter((function(e){var t=j(e,2)[1];return n(t)})).map((function(e){return j(e,1)[0]}))}}(e.ofType(s.NH,s.E7).map((function(e){return e.type===s.NH})))).map((function(){return(0,s.h1)((0,w.Np)(n())+1)})).merge(e.ofType(s.KB).map((function(e){var t=e.direction;return(0,s.h1)(Math.max(0,(0,w.Np)(n())+t))}))).concat(x().Observable.of((0,s.sT)())).takeUntil(e.ofType(s.N7,O.nk))}))},playbackToggleGuideLayerToFixedStep:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(s.Fi).exhaustMap((function(){return(0,E.uy)(n())?x().Observable.of((0,g.kq)(void 0)):x().Observable.of((0,g.kq)(m()((0,S.LS)(n()),"[0].id")))}))},playbackMoveStep:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(s.KB).filter((function(){return(0,w.dS)(n())!==s.Q_.PLAY})).switchMap((function(e){var t=e.direction,r=void 0===t?1:t,o=(0,w.rp)(n())||{},i=(0,S.WT)(n());return i&&o.forTime===i?x().Observable.of(r>0?o.next:o.previous):K(n,F({limit:1,sort:r>0?"asc":"desc",fromValue:(0,S.WT)(n())},"end"===(0,E.pW)(n())?{fromEnd:!0}:{})).map((function(){return L(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],1)[0]}))})).filter((function(e){return!!e})).map((function(e){var t,r=null!==(t="end"===(0,E.pW)(n())?e.split("/")[1]:e.split("/")[0])&&void 0!==t?t:e;return(0,v.PZ)(r)}))},playbackCacheNextPreviousTimes:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(v.mE,v.mD,g._V,s.N7,g.w,g.lz,g.Xe).filter((function(){return(0,w.dS)(n())!==s.Q_.PLAY&&(0,w.dS)(n())!==s.Q_.PAUSE})).filter((function(){return(0,E.Li)(n())})).filter((function(e){return!!e})).switchMap((function(e){var t=e.time||(0,S.WT)(n()),r=(0,E.pW)(n());return(0,A.A)(B,!1,n,r,t).map((function(e){var n=L(e,2),r=n[0],o=n[1];return(0,s.Ym)({forTime:t,next:r,previous:o})}))}))},playbackFollowCursor:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(v.mD).filter((function(e){return(e.type===v.mD||(0,w.dS)(n())===s.Q_.PLAY)&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.start,r=t.end;return n&&r&&(p()(e).isBefore(n)||p()(e).isAfter(r))}((0,S.WT)(n()),(0,E.YK)(n()))})).filter((function(){return m()((0,w.z2)(n()),"following")})).switchMap((function(){return x().Observable.of((0,g.y3)((e=(0,S.WT)(n()),r=(t=(0,E.YK)(n())).start,o=t.end,i=p()(o).diff(p()(r)),{start:e,end:p()(e).add(i).toISOString()})));var e,t,r,o,i}))},playbackStopWhenDeleteLayer:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(h.sb).filter((function(){return!(0,E.Li)(n())&&"PLAY"===(0,w.dS)(n())})).switchMap((function(){return x().Observable.of((0,s.sT)())}))},setIsIntervalData:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(g._V,v.mE).filter((function(e){return e.layerId||(0,E.Li)(n())})).switchMap((function(e){var t=e.time||(0,S.WT)(n()),r=(0,E.pW)(n());return(0,A.A)(B,!0,n,r,t).map((function(e){var t=L(e,2),n=t[0],r=t[1],o=-1!==n.indexOf("/")||-1!==r.indexOf("/");return(0,s.RQ)(o)}))}))},switchOffSnapToLayer:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getState,n=void 0===t?function(){}:t;return e.ofType(h.yS).filter((function(e){var t=e.newProperties,r=e.layer,o=(0,E.Li)(n());return void 0!==(null==t?void 0:t.visibility)&&o===r&&(0,E.pn)(n())})).switchMap((function(){return x().Observable.of((0,s.FH)())}))},updatePlaybackDataOnMapLoad:function(e){return e.ofType(Z.ok).filter((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config;return!d()(null==e?void 0:e.playback)})).switchMap((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config;return x().Observable.of((0,s.Xt)(null==e?void 0:e.playback))}))}};var W=n(937307),z=n(732215),Q=n(805346),V=n(80717),H=n(45697),$=n.n(H),q=n(807654),G=n.n(q),J=n(724469),X=n(294184),ee=n.n(X),te=n(202576),ne=n(365295),re=n(145869),oe=n(112346),ie=n(794192),ae=n(86638);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return(t=function(e){var t=function(e){if("object"!=ce(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!G()(parseInt(e,10))){var r=parseInt(e,10);return t(r<1?1:r)}return n()}catch(e){return n(e)}},pe=function(e){var t=e.startPlaybackTime,n=e.endPlaybackTime,r=p()(t).diff(n);return{startPlaybackTime:r>=0?n:t,endPlaybackTime:r>=0?t:n}},ye=function(e,t){var n=e.following,r=e.frameDuration,o=e.timeStep,i=e.stepUnit,c=e.onSettingChange,u=void 0===c?function(){}:c,l=e.toggleAnimationMode,s=void 0===l?function(){}:l,f=e.toggleAnimationRange,p=void 0===f?function(){}:f,y=e.fixedStep,m=void 0!==y&&y,b=e.playbackRange,d=void 0===b?{}:b,v=e.snapTypes,g=void 0===v?[]:v,h=e.currentSnapType,P=void 0===h?"start":h,S=e.snapRadioButtonEnabled,O=void 0!==S&&S,w=e.endValuesSupport,E=e.onChangeSnapType,k=void 0===E?function(){}:E,j=e.setPlaybackRange,T=void 0===j?function(){}:j,C=e.playbackButtons,A=e.dateSelectorStyle,I=void 0===A?{padding:0,margin:0,border:"none"}:A,_=e.style,x=void 0===_?{}:_,Z=e.layers,D=void 0===Z?[]:Z,L=e.changeLayerSetting,R=void 0===L?function(){}:L,N=e.selectedLayer;return a().createElement("div",{className:"ms-playback-settings",style:x},a().createElement("h4",null,a().createElement(Q.Z,{msgId:"timeline.settings.title"})),a().createElement(J.cw,{controlId:"timelineSettings"},a().createElement(J.l0,{componentClass:"fieldset",inline:!0,className:"snap-guide-form"},a().createElement(J.J$,null,a().createElement(Q.Z,{msgId:"timeline.settings.snapToGuideLayer"})," ",a().createElement(te.Z,{text:a().createElement(Q.Z,{msgId:"timeline.settings.snapToGuideLayerTooltip"})})),a().createElement("span",null,a().createElement(re.Z,{checked:!m,onChange:function(){return s()}}))),!m&&w&&a().createElement(J.l0,{componentClass:"fieldset",inline:!0,className:"snap-type-form",disabled:!O},a().createElement("div",{className:"snap-type-form-title"},a().createElement(J.J$,null,a().createElement(Q.Z,{msgId:"timeline.settings.snapType"})," ",a().createElement(te.Z,{text:a().createElement(Q.Z,{msgId:"timeline.settings.snapTypeTooltip"})}))),a().createElement("div",{className:"snap-type-container"},g.map((function(e){return a().createElement("div",{className:"snap-type-item"},a().createElement("input",{type:"radio",className:ee()("snap-type-radio-btn",{disabled:!O}),value:e.value,name:"snapType",checked:P===e.value,onChange:function(e){var t=e.target.value;k(t)}}),a().createElement("div",{className:"snap-type-radio-btn-label"},a().createElement(Q.Z,{msgId:e.label})))}))))),a().createElement(J.mQ,{defaultActiveKey:1,id:"playback-settings-tabs"},a().createElement(J.OK,{eventKey:1,title:a().createElement(Q.Z,{msgId:"playback.settings.tab.playback"}),style:{paddingTop:8}},a().createElement(a().Fragment,null,a().createElement(J.cw,{controlId:"frameDuration"},a().createElement(J.J$,null,a().createElement(Q.Z,{msgId:"playback.settings.frameDuration"})),a().createElement(J.BZ,null,a().createElement(ie.Z,{componentClass:"input",type:"number",value:r,onChange:function(){return fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",(function(e){u("frameDuration",e)}))}}),a().createElement(J.BZ.Addon,null,"s"))),a().createElement(J.J$,null,a().createElement(Q.Z,{msgId:"playback.settings.step.label"})," ",a().createElement(te.Z,{text:a().createElement(Q.Z,{msgId:"playback.settings.step.tooltip"})})),a().createElement(J.cw,{controlId:"formPlaybackStep"},a().createElement(J.l0,{componentClass:"fieldset",inline:!0},a().createElement(ie.Z,{disabled:!m,componentClass:"input",type:"number",style:{input:{maxWidth:120}},value:o,onChange:function(){return fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",(function(e){u("timeStep",e)}))}}),a().createElement(J.NI,{disabled:!m,componentClass:"select",value:i,onChange:function(e){var t=e.target;return u("stepUnit",(void 0===t?{}:t).value)}},a().createElement(Q.Z,{msgId:"playback.settings.step.year",msgParams:{number:o||1}},(function(e){return a().createElement("option",{value:"years"},e)})),a().createElement(Q.Z,{msgId:"playback.settings.step.week",msgParams:{number:o||1}},(function(e){return a().createElement("option",{value:"weeks"},e)})),a().createElement(Q.Z,{msgId:"playback.settings.step.day",msgParams:{number:o||1}},(function(e){return a().createElement("option",{value:"days"},e)})),a().createElement(Q.Z,{msgId:"playback.settings.step.hour",msgParams:{number:o||1}},(function(e){return a().createElement("option",{value:"hour"},e)})),a().createElement(Q.Z,{msgId:"playback.settings.step.minute",msgParams:{number:o||1}},(function(e){return a().createElement("option",{value:"minutes"},e)})),a().createElement(Q.Z,{msgId:"playback.settings.step.second",msgParams:{number:o||1}},(function(e){return a().createElement("option",{value:"seconds"},e)}))))),a().createElement(oe.Z,{onSwitch:function(e){return p(e)},expanded:d.startPlaybackTime&&d.endPlaybackTime,title:a().createElement(Q.Z,{msgId:"playback.settings.range.title"}),buttons:C},a().createElement(J.cw,{controlId:"formPlaybackMode",style:{margin:10}},a().createElement(ne.Z,{tooltipId:"playback.settings.range.animationStart",glyph:"play",date:d.startPlaybackTime,onUpdate:function(e){return T(pe(le(le({},d),{},{startPlaybackTime:e})))},style:I,showButtons:!0}),a().createElement(ne.Z,{glyph:"stop",tooltipId:"playback.settings.range.animationEnd",date:d.endPlaybackTime,onUpdate:function(e){return T(pe(le(le({},d),{},{endPlaybackTime:e})))},style:I,showButtons:!0}))),a().createElement(J.cw,{controlId:"formPlaybackFollowingMode"},a().createElement(J.l0,{componentClass:"fieldset",inline:!0},a().createElement(J.J$,null,a().createElement(Q.Z,{msgId:"playback.settings.mode.following"})," ",a().createElement(te.Z,{text:a().createElement(Q.Z,{msgId:"playback.settings.mode.followingDescription"})})),a().createElement("span",null,a().createElement(re.Z,{checked:n,onChange:function(e){return u("following",e)}})))))),a().createElement(J.OK,{eventKey:2,title:a().createElement(Q.Z,{msgId:"playback.settings.tab.layers"}),style:{height:250,width:280,overflowY:"auto",paddingTop:8}},D.map((function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.title,o=n.id,i=n.hideInTimeline,c=null==D?void 0:D.filter((function(e){return!e.hideInTimeline})),u=1===c.length&&(null==c||null===(e=c[0])||void 0===e?void 0:e.id)===o||N===o&&!i;return a().createElement("div",{className:"layer-setting"},a().createElement("label",{key:o},r),a().createElement("input",{title:(0,ae.S$)(t.messages,"playback.settings.layer.".concat(u?"disabled":"enabled")),disabled:u,type:"checkbox",onChange:function(e){return R(o,e.target.checked)},checked:!i}))})))))};ye.contextTypes={messages:$().object};const me=ye;function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e,t,n){return(t=function(e){var t=function(e){if("object"!=be(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==be(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge=(0,u.compose)((0,c.connect)((0,l.P1)(w.z2,E.Li,w.KC,E.pW,E.ei,E.Hc,E.A7,(function(e,t,n,r,o,i,a){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fixedStep:!t,playbackRange:n,currentSnapType:r,snapRadioButtonEnabled:o,endValuesSupport:i,selectedLayer:t,layers:a},e)})),{setPlaybackRange:s.VS,onSettingChange:s.oz,onChangeSnapType:g.m7,toggleAnimationMode:s.FH,changeLayerSetting:g.mF}),(0,u.withProps)((function(){return{snapTypes:[{id:"start",value:"start",label:"timeline.settings.snapToStart"},{id:"end",value:"end",label:"timeline.settings.snapToEnd"}]}})),(0,u.compose)((0,c.connect)((0,l.P1)(E.YK,E.dJ,(function(e,t){return{layerRange:t,viewRange:e}})),{moveTo:g.y3}),(0,u.withHandlers)({toggleAnimationRange:function(e){var t=e.fixedStep,n=e.layerRange,r=e.viewRange,o=void 0===r?{}:r,i=e.setPlaybackRange,a=void 0===i?function(){}:i;return function(e){var r=t?o:n;r={startPlaybackTime:p()(r&&r.start||new Date).subtract(1,"days").toISOString(),endPlaybackTime:p()(r&&r.end||new Date).add(1,"days").toISOString()},a(e?r:void 0)}},setPlaybackToCurrentViewRange:function(e){var t=e.viewRange,n=void 0===t?{}:t,r=e.setPlaybackRange,o=void 0===r?function(){}:r;return function(){n.start&&n.end&&o({startPlaybackTime:p()(n.start).toISOString(),endPlaybackTime:p()(n.end).toISOString()})}},setPlaybackToCurrentLayerDataRange:function(e){var t=e.setPlaybackRange,n=void 0===t?function(){}:t,r=e.layerRange;return function(){return r&&n({startPlaybackTime:r.start,endPlaybackTime:r.end})}}}),(0,u.withProps)((function(e){var t=e.playbackRange,n=e.fixedStep,r=e.moveTo,o=void 0===r?function(){}:r,i=e.setPlaybackToCurrentViewRange,a=void 0===i?function(){}:i,c=e.setPlaybackToCurrentLayerDataRange,u=void 0===c?function(){}:c;return{playbackButtons:[{glyph:"search",tooltipId:"playback.settings.range.zoomToCurrentPlayackRange",onClick:function(){return o({start:t.startPlaybackTime,end:t.endPlaybackTime})}},{glyph:"resize-horizontal",tooltipId:"playback.settings.range.setToCurrentViewRange",onClick:function(){return a()}},{glyph:"1-layer",visible:!n,tooltipId:"playback.settings.range.fitToSelectedLayerRange",onClick:function(){return u()}}]}}))))(me);var he=(0,u.compose)((0,u.withState)("showSettings","onShowSettings",!1),(0,u.withState)("collapsed","setCollapsed",!0),(0,u.withProps)((function(e){var t=e.setCollapsed;return{buttons:[{glyph:"minus",onClick:function(){return t(!0)}}]}}))),Pe=(0,l.P1)(w.dS,E.Li,w.rp,w.PF,(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return t?e===s.Q_.PLAY||e===s.Q_.PAUSE?r:{hasNext:!!n.next,hasPrevious:!!n.previous}:{hasNext:!0,hasPrevious:!0}})),Se=(0,u.compose)((0,c.connect)(Pe,{stepMove:s.XN}),(0,u.withHandlers)({forward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(1)}},backward:function(e){var t=e.stepMove,n=void 0===t?function(){}:t;return function(){return n(-1)}}}));const Oe=(0,u.compose)(he,Se)((function(e){var t=e.status,n=e.statusMap,r=e.play,o=void 0===r?function(){}:r,i=e.forward,c=void 0===i?function(){}:i,u=e.backward,l=void 0===u?function(){}:u,s=e.pause,f=void 0===s?function(){}:s,p=e.stop,y=void 0===p?function(){}:p,m=e.hasPrevious,b=e.hasNext,d=e.showSettings,v=e.onShowSettings,g=void 0===v?function(){}:v,h=e.settingsStyle,P=void 0===h?{}:h;return a().createElement("div",{style:{display:"flex"}},t!==n.PLAY&&t!==n.PAUSE&&d&&a().createElement(ge,{style:P}),a().createElement(V.Z,{btnDefaultProps:{className:"square-button-md",bsStyle:"primary"},buttons:[{glyph:"step-backward",key:"back",onClick:l,disabled:!m,tooltip:a().createElement(Q.Z,{msgId:"playback.backwardStep"})},{glyph:t===n.PLAY?"pause":"play",key:"play",active:t===n.PLAY||t===n.PAUSE,disabled:!b,bsStyle:t===n.PLAY||t===n.PAUSE?"success":"primary",onClick:function(){return t===n.PLAY?f():o()},tooltipId:b&&(t===n.PLAY?"playback.pause":t===n.PAUSE?"playback.paused":"playback.play")},{glyph:"stop",key:"stop",disabled:t!==n.PLAY&&t!==n.PAUSE,onClick:y,tooltip:!(t!==n.PLAY&&t!==n.PAUSE)&&a().createElement(Q.Z,{msgId:"playback.stop"})},{glyph:"step-forward",key:"forward",onClick:c,disabled:!b,tooltip:b&&a().createElement(Q.Z,{msgId:"playback.forwardStep"})},{glyph:"cog",key:"settings",bsStyle:t!==n.PLAY&&t!==n.PAUSE&&d?"success":"primary",active:(t!==n.PLAY||t!==n.PAUSE)&&!!d,disabled:t===n.PLAY||t===n.PAUSE,onClick:function(){return t!==n.PLAY&&g(!d)},tooltip:!(t===n.PLAY||t===n.PAUSE)&&a().createElement(Q.Z,{msgId:"playback.settings.tooltip"})}]}))}));function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ke(r.key),r)}}function ke(e){var t=function(e){if("object"!=we(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==we(t)?t:t+""}function je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(je=function(){return!!e})()}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ce(e,t)}(0,n(658422).Fd)("playback",(function(e){return{settings:(0,w.z2)(e),playbackRange:(0,w.KC)(e),metadata:(0,w.rp)(e)}}));var Ae=(0,u.compose)((0,u.defaultProps)({statusMap:s.Q_}),(0,c.connect)((0,l.P1)(w.dS,S.WT,w.E2,(function(e,t,n){return{loading:n,currentTime:t,status:e}})),{play:s.hY,pause:s.wO,stop:s.sT}))(Oe),Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Te(t),function(e,t){if(t&&("object"==we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,je()?Reflect.construct(t,n||[],Te(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a().createElement("div",{className:"playback-plugin"},a().createElement(Ae,this.props))}}])&&Ee(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(a().Component);const _e={PlaybackPlugin:o()(Ie,{noRoot:!0,disablePluginIf:"{state('featuregridmode') === 'EDIT'}",Timeline:{name:"playback",position:1,priority:1}}),epics:Y,reducers:{playback:z.Z,dimension:W.Z}}},732215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(162187),o=n(782904),i=n(761868);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={timeStep:1,stepUnit:"days",frameDuration:2,following:!0};const y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:r.Q_.STOP,currentFrame:-1,settings:p},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.qg:return s(s({},e),t.payload);case r.NH:return(0,i.t8)("status",r.Q_.PLAY,e);case r.E7:return(0,i.t8)("status",r.Q_.PAUSE,e);case r.N7:return(0,i.t8)("status",r.Q_.STOP,(0,i.t8)("currentFrame",-1,e));case r.L9:return(0,i.t8)("frames",t.frames,(0,i.t8)("currentFrame",-1,e));case r.NC:return(0,i.t8)("framesLoading",t.loading,e);case r.hQ:return(0,i.t8)("frames",[].concat(c(e.frames||[]),c(t.frames)),e);case r.c9:return(0,i.t8)("currentFrame",t.frame,e);case r.up:return(0,i.t8)("playbackRange",t.range,e);case r.FZ:return(0,i.t8)("settings[".concat(t.name,"]"),t.value,e);case r.E0:return(0,i.t8)("metadata",{next:t.next,previous:t.previous,forTime:t.forTime},e);case r.AN:return(0,i.t8)("metadata",s(s({},e.metadata),{},{timeIntervalData:t.timeIntervalData}),e);case o.l:return(0,i.t8)("metadata",void 0,(0,i.t8)("framesLoading",void 0,(0,i.t8)("playbackRange",void 0,(0,i.t8)("frames",void 0,(0,i.t8)("currentFrame",-1,(0,i.t8)("status","STOP",(0,i.t8)("settings",p,e)))))));default:return e}}},788113:(e,t,n)=>{"use strict";n.d(t,{b6:()=>y,PG:()=>m,_x:()=>b,Mm:()=>d,dP:()=>v,SX:()=>g,ZL:()=>h,_S:()=>P,iH:()=>S,R7:()=>O,Q7:()=>w,n7:()=>E,bA:()=>k,hm:()=>j,E2:()=>T,Cb:()=>C,eK:()=>A,Im:()=>I,e8:()=>_,JF:()=>x,kS:()=>Z,y:()=>D,l2:()=>L,HN:()=>R,BM:()=>N,O8:()=>M,am:()=>F,LV:()=>U,CK:()=>B,jU:()=>K,Qg:()=>Y,$c:()=>W});var r=n(22222),o=n(227361),i=n.n(o),a=n(800827),c=n(577215),u=n(274621);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){return i()(e,"catalog.services")},m=(0,r.P1)((function(e){return i()(e,"catalog.default.staticServices")}),y,(function(e,t){var n=null==e?void 0:e.default_map_backgrounds;return n?(n.readOnly=!0,f(f({},t),{},{default_map_backgrounds:n})):t})),b=function(e){return i()(e,"catalog.default.tileSizes",[256,512])},d=function(e){return i()(e,"controls.metadataexplorer.group")},v=function(e){return i()(e,"catalog.saving")},g=function(e){return i()(e,"catalog.result")},h=function(e){return i()(e,"catalog.openCatalogServiceList")},P=function(e){return i()(e,"catalog.newService")},S=function(e){return i()(e,"catalog.newService.type","csw")},O=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"]'))},w=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"].type'),function(e){return i()(e,'catalog.default.staticServices["'.concat(i()(e,"catalog.selectedService"),'"].type'),"csw")}(e))},E=function(e){return i()(e,'catalog.services["'.concat(i()(e,"catalog.selectedService"),'"].layerOptions'),{})},k=function(e){return i()(e,"catalog.searchOptions")},j=function(e){return i()(e,"catalog.loadingError")},T=function(e){return i()(e,"catalog.loading",!1)},C=function(e){return i()(e,"catalog.selectedService")},A=function(e){return i()(e,"catalog.mode","view")},I=function(e){return i()(e,"catalog.layerError")},_=function(e){return i()(e,"catalog.searchOptions.text","")},x=function(e){return"metadataexplorer"===i()(e,"controls.toolbar.active")||i()(e,"controls.metadataexplorer.enabled")},Z=function(e){return(i()(e,"localConfig.authenticationRules")||[]).filter((function(e){return"authkey"===e.method})).map((function(e){return e.authkeyParamName}))||[]},D=function(e){return i()(e,"catalog.pageSize",4)},L=function(e){return i()(e,"catalog.delayAutoSearch",1e3)},R=(0,r.zB)({projection:a.uy}),N=function(e){return i()(e,"catalog.formatsLoading",!1)},M=function(e){return i()(e,"catalog.newService.supportedFormats.imageFormats",[])},F=function(e){var t,n;return"edit"===A(e)?M(e):(null===(t=O(e))||void 0===t||null===(n=t.supportedFormats)||void 0===n?void 0:n.imageFormats)||[]},U=function(e){return i()(e,"catalog.newService.supportedFormats.infoFormats",(0,c.oL)())},B=function(e){return i()(e,"catalog.newService.formatUrlUsed","")},K=function(e){return i()(e,"catalog.isNewServiceAdded",!1)},Y=function(e){return i()(e,"catalog.showFormatError",!1)},W=function(e){var t=function(e){return i()(e,"catalog.editingAllowedRoles",[])}(e),n=function(e){return i()(e,"catalog.editingAllowedGroups",[])}(e);return(0,u.tv)({allowedRoles:t,allowedGroups:n})(e)}}}]);