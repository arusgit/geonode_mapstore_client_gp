(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[71712],{23279:(t,e,i)=>{var s=i(513218),n=i(707771),r=i(14841),o=Math.max,h=Math.min;t.exports=function(t,e,i){var a,d,l,c,g,u,m=0,f=!1,p=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function _(e){var i=a,s=d;return a=d=void 0,m=e,c=t.apply(s,i)}function v(t){var i=t-u;return void 0===u||i>=e||i<0||p&&t-m>=l}function C(){var t=n();if(v(t))return P(t);g=setTimeout(C,function(t){var i=e-(t-u);return p?h(i,l-(t-m)):i}(t))}function P(t){return g=void 0,y&&a?_(t):(a=d=void 0,c)}function E(){var t=n(),i=v(t);if(a=arguments,d=this,u=t,i){if(void 0===g)return function(t){return m=t,g=setTimeout(C,e),f?_(t):c}(u);if(p)return clearTimeout(g),g=setTimeout(C,e),_(u)}return void 0===g&&(g=setTimeout(C,e)),c}return e=r(e)||0,s(i)&&(f=!!i.leading,l=(p="maxWait"in i)?o(r(i.maxWait)||0,e):l,y="trailing"in i?!!i.trailing:y),E.cancel=function(){void 0!==g&&clearTimeout(g),m=0,a=u=d=g=void 0},E.flush=function(){return void 0===g?c:P(n())},E}},707771:(t,e,i)=>{var s=i(555639);t.exports=function(){return s.Date.now()}},823493:(t,e,i)=>{var s=i(23279),n=i(513218);t.exports=function(t,e,i){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return n(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),s(t,e,{leading:r,maxWait:e,trailing:o})}},623068:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var s=i(558493),n=i(173381),r=i(438906),o=i(613002);class h extends s.Z{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new h(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,o.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=(0,o.oL)(t,n.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;let e;return Array.isArray(t)?e=t:((0,r.h)("function"==typeof t.getZIndex,41),e=[t]),function(){return e}}(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const a=h},116892:(t,e,i)=>{"use strict";i.d(e,{Z:()=>C});var s=i(9520),n=i(558493),r=i(15265),o=i(218672),h=i(921882);const a="accuracy",d="accuracyGeometry",l="altitude",c="altitudeAccuracy",g="heading",u="position",m="projection",f="speed",p="tracking",y="trackingOptions";class _ extends s.ZP{constructor(t){super("error"),this.code=t.code,this.message=t.message}}class v extends n.Z{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.position_=null,this.transform_=o.gD,this.watchId_=void 0,this.addChangeListener(m,this.handleProjectionChanged_),this.addChangeListener(p,this.handleTrackingChanged_),void 0!==t.projection&&this.setProjection(t.projection),void 0!==t.trackingOptions&&this.setTrackingOptions(t.trackingOptions),this.setTracking(void 0!==t.tracking&&t.tracking)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const t=this.getProjection();t&&(this.transform_=(0,o.WO)((0,o.U2)("EPSG:4326"),t),this.position_&&this.set(u,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(t){const e=t.coords;this.set(a,e.accuracy),this.set(l,null===e.altitude?void 0:e.altitude),this.set(c,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(g,null===e.heading?void 0:(0,h.Yr)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];const i=this.transform_(this.position_);this.set(u,i.slice()),this.set(f,null===e.speed?void 0:e.speed);const s=(0,r.iu)(this.position_,e.accuracy);s.applyTransform(this.transform_),this.set(d,s),this.changed()}positionError_(t){this.dispatchEvent(new _(t))}getAccuracy(){return this.get(a)}getAccuracyGeometry(){return this.get(d)||null}getAltitude(){return this.get(l)}getAltitudeAccuracy(){return this.get(c)}getHeading(){return this.get(g)}getPosition(){return this.get(u)}getProjection(){return this.get(m)}getSpeed(){return this.get(f)}getTracking(){return this.get(p)}getTrackingOptions(){return this.get(y)}setProjection(t){this.set(m,(0,o.U2)(t))}setTracking(t){this.set(p,t)}setTrackingOptions(t){this.set(y,t)}}const C=v},540188:(t,e,i)=>{"use strict";i.d(e,{Z:()=>s});const s={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},193409:(t,e,i)=>{"use strict";i.d(e,{Z:()=>f});var s=i(558493),n=i(540188),r=i(267644),o=i(421915),h=i(613002),a=i(85386);const d="element",l="map",c="offset",g="position",u="positioning";class m extends s.Z{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+r.$A,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===t.autoPan?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(d,this.handleElementChanged),this.addChangeListener(l,this.handleMapChanged),this.addChangeListener(c,this.handleOffsetChanged),this.addChangeListener(g,this.handlePositionChanged),this.addChangeListener(u,this.handlePositioningChanged),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),void 0!==t.position&&this.setPosition(t.position)}getElement(){return this.get(d)}getId(){return this.id}getMap(){return this.get(l)||null}getOffset(){return this.get(c)}getPosition(){return this.get(g)}getPositioning(){return this.get(u)}handleElementChanged(){(0,a.ep)(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,a.ZF)(this.element),(0,h.bN)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,h.oL)(t,n.Z.POSTRENDER,this.render,this),this.updatePixelPosition();const e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(d,t)}setMap(t){this.set(l,t)}setOffset(t){this.set(c,t)}setPosition(t){this.set(g,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const e=this.getMap();if(!e||!e.getTargetElement()||!this.get(g))return;const i=this.getRect(e.getTargetElement(),e.getSize()),s=this.getElement(),n=this.getRect(s,[(0,a.iO)(s),(0,a.Pb)(s)]),r=void 0===(t=t||{}).margin?20:t.margin;if(!(0,o.r4)(i,n)){const s=n[0]-i[0],o=i[2]-n[2],h=n[1]-i[1],a=i[3]-n[3],d=[0,0];if(s<0?d[0]=s-r:o<0&&(d[0]=Math.abs(o)+r),h<0?d[1]=h-r:a<0&&(d[1]=Math.abs(a)+r),0!==d[0]||0!==d[1]){const i=e.getView().getCenterInternal(),s=e.getPixelFromCoordinateInternal(i);if(!s)return;const n=[s[0]+d[0],s[1]+d[1]],r=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(n),duration:r.duration,easing:r.easing})}}}getRect(t,e){const i=t.getBoundingClientRect(),s=i.left+window.pageXOffset,n=i.top+window.pageYOffset;return[s,n,s+e[0],n+e[1]]}setPositioning(t){this.set(u,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e)return void this.setVisible(!1);const i=t.getPixelFromCoordinate(e),s=t.getSize();this.updateRenderedPosition(i,s)}updateRenderedPosition(t,e){const i=this.element.style,s=this.getOffset(),n=this.getPositioning();this.setVisible(!0);let r="0%",o="0%";"bottom-right"==n||"center-right"==n||"top-right"==n?r="-100%":"bottom-center"!=n&&"center-center"!=n&&"top-center"!=n||(r="-50%"),"bottom-left"==n||"bottom-center"==n||"bottom-right"==n?o="-100%":"center-left"!=n&&"center-center"!=n&&"center-right"!=n||(o="-50%");const h=`translate(${r}, ${o}) translate(${Math.round(t[0]+s[0])+"px"}, ${Math.round(t[1]+s[1])+"px"})`;this.rendered.transform_!=h&&(this.rendered.transform_=h,i.transform=h)}getOptions(){return this.options}}const f=m},286320:(t,e,i)=>{"use strict";function s(t){return Math.pow(t,3)}function n(t){return 1-s(1-t)}function r(t){return 3*t*t-2*t*t*t}function o(t){return t}i.d(e,{YQ:()=>s,Vv:()=>n,rd:()=>r,GE:()=>o})},869669:(t,e,i)=>{"use strict";i.d(e,{Z:()=>a});var s=i(432538),n=i(421915),r=i(438667),o=i(517882);class h extends s.ZP{constructor(t,e,i){super(),void 0!==i&&void 0===e?this.setFlatCoordinates(i,t):(e=e||0,this.setCenterAndRadius(t,e,i))}clone(){const t=new h(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,s){const n=this.flatCoordinates,r=t-n[0],o=e-n[1],h=r*r+o*o;if(h<s){if(0===h)for(let t=0;t<this.stride;++t)i[t]=n[t];else{const t=this.getRadius()/Math.sqrt(h);i[0]=n[0]+t*r,i[1]=n[1]+t*o;for(let t=2;t<this.stride;++t)i[t]=n[t]}return i.length=this.stride,h}return s}containsXY(t,e){const i=this.flatCoordinates,s=t-i[0],n=e-i[1];return s*s+n*n<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const e=this.flatCoordinates,i=e[this.stride]-e[0];return(0,n.T9)(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){const e=this.getExtent();if((0,n.kK)(t,e)){const e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||(0,n.H6)(t,this.intersectsCoordinate.bind(this))}return!1}setCenter(t){const e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],s=t.slice();s[e]=s[0]+i;for(let i=1;i<e;++i)s[e+i]=t[i];this.setFlatCoordinates(this.layout,s),this.changed()}setCenterAndRadius(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);const s=this.flatCoordinates;let n=(0,r.IG)(s,0,t,this.stride);s[n++]=s[0]+e;for(let t=1,e=this.stride;t<e;++t)s[n++]=s[t];s.length=n,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){const i=this.getCenter(),s=this.getStride();this.setCenter((0,o.U1)(i,0,i.length,s,t,e,i)),this.changed()}}h.prototype.transform;const a=h},798090:(t,e,i)=>{"use strict";i.d(e,{Z:()=>d});var s=i(173381),n=i(208204),r=i(421915),o=i(613002);class h extends n.Z{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(o.bN),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push((0,o.oL)(this.geometries_[t],s.Z.CHANGE,this.changed,this))}clone(){const t=new h(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,e,i,s){if(s<(0,r.qf)(this.getExtent(),t,e))return s;const n=this.geometries_;for(let r=0,o=n.length;r<o;++r)s=n[r].closestPointXY(t,e,i,s);return s}containsXY(t,e){const i=this.geometries_;for(let s=0,n=i.length;s<n;++s)if(i[s].containsXY(t,e))return!0;return!1}computeExtent(t){(0,r.YN)(t);const e=this.geometries_;for(let i=0,s=e.length;i<s;++i)(0,r.l7)(t,e[i].getExtent());return t}getGeometries(){return a(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let i=0,s=e.length;i<s;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],i=this.geometries_;let s=!1;for(let n=0,r=i.length;n<r;++n){const r=i[n],o=r.getSimplifiedGeometry(t);e.push(o),o!==r&&(s=!0)}if(s){const t=new h(null);return t.setGeometriesArray(e),t}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let i=0,s=e.length;i<s;++i)if(e[i].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const i=this.geometries_;for(let s=0,n=i.length;s<n;++s)i[s].rotate(t,e);this.changed()}scale(t,e,i){i||(i=(0,r.qg)(this.getExtent()));const s=this.geometries_;for(let n=0,r=s.length;n<r;++n)s[n].scale(t,e,i);this.changed()}setGeometries(t){this.setGeometriesArray(a(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let i=0,s=e.length;i<s;++i)e[i].applyTransform(t);this.changed()}translate(t,e){const i=this.geometries_;for(let s=0,n=i.length;s<n;++s)i[s].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function a(t){const e=[];for(let i=0,s=t.length;i<s;++i)e.push(t[i].clone());return e}const d=h},804027:(t,e,i)=>{"use strict";function s(t,e,i,s){let n=t[e],r=t[e+1],o=0;for(let h=e+s;h<i;h+=s){const e=t[h],i=t[h+1];o+=Math.sqrt((e-n)*(e-n)+(i-r)*(i-r)),n=e,r=i}return o}i.d(e,{W:()=>s})},938642:(t,e,i)=>{"use strict";i.d(e,{h$:()=>n,YP:()=>r,gE:()=>o,Gw:()=>h});var s=i(921882);function n(t){if(void 0!==t)return 0}function r(t){if(void 0!==t)return t}function o(t){const e=2*Math.PI/t;return function(t,i){return i?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function h(t){return t=t||(0,s.Yr)(5),function(e,i){return i?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}}}]);